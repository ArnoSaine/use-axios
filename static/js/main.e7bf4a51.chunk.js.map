{"version":3,"sources":["Container/Aside.js","Container/index.js","../../src/main.js","api.js","../../../src/utils/obsoleteWithReplacement.js","Footer/ClearCompleted.js","Footer/Counter.js","Footer/Filter.js","Footer/index.js","Input.js","List/Item.js","List/index.js","ToggleAll.js","App.js","index.js","Container/styles.module.css"],"names":["Aside","className","href","url","text","map","Container","children","styles","create","config","createUseAsync","axios","useAxios","refetch","useAxiosSafe","warned","console","replacementFunction","this","wrapper","obsoleteWithReplacement","createAxios","baseURL","createUseAxios","del","delete","post","put","useItems","data","postItem","item","a","putItem","_id","items","ClearCompleted","completedItems","filter","completed","length","onClick","deleteItems","Counter","Filter","path","title","activeClassName","exact","replace","to","Footer","Input","inputRef","useRef","ref","autoFocus","onKeyDown","key","input","current","value","trim","placeholder","type","Item","useState","focus","setFocus","isEditing","setIsEditing","handleSave","useEffect","clsx","onDoubleClick","checked","onChange","deleteItem","defaultValue","onBlur","List","useRouteMatch","params","listItems","Boolean","ToggleAll","every","id","putItems","htmlFor","App","fallback","basename","homepage","window","document","location","pathname","endsWith","worker","start","serviceWorker","ReactDOM","render","StrictMode","getElementById","main","module","exports"],"mappings":"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","file":"static/js/main.e7bf4a51.chunk.js","sourcesContent":["export default function Aside() {\n  return (\n    <aside className=\"learn\">\n      <header>\n        <h3>use-axios</h3>\n        <h5>Example</h5>\n        <a href=\"https://github.com/ArnoSaine/use-axios/tree/main/examples/todoapp\">\n          Source\n        </a>\n      </header>\n      <hr />\n      <h4>Official Resources</h4>\n      <ul>\n        {[\n          {\n            url: 'https://github.com/ArnoSaine/use-axios',\n            text: 'use-axios',\n          },\n          {\n            url: 'https://github.com/axios/axios',\n            text: 'axios',\n          },\n          {\n            url: 'https://github.com/Visma-AS/visma/tree/main/packages/msw-openapi-backend-integration',\n            text: '@visma/msw-openapi-backend-integration',\n          },\n          {\n            url: 'https://github.com/ArnoSaine/postinumero/tree/main/packages/use-async',\n            text: '@postinumero/use-async',\n          },\n          {\n            url: 'https://mswjs.io',\n            text: 'msw',\n          },\n          {\n            url: 'https://github.com/anttiviljami/openapi-backend',\n            text: 'openapi-backend',\n          },\n        ].map(({ text, url }) => (\n          <li key={url}>\n            <a href={url}>{text}</a>\n          </li>\n        ))}\n      </ul>\n    </aside>\n  );\n}\n","import Aside from './Aside';\nimport styles from './styles.module.css';\n\nexport default function Container({ children }) {\n  return (\n    <div className={`learn-bar ${styles['learn-bar']}`}>\n      <Aside />\n      {children}\n    </div>\n  );\n}\n","import { create as createUseAsync } from '@postinumero/use-async';\nimport axios from 'axios';\nimport obsoleteWithReplacement from './utils/obsoleteWithReplacement.js';\n\nexport const create = (config) => {\n  const [useAxios, refetch, useAxiosSafe] = createUseAsync(\n    typeof config === 'function' ? config : axios.create(config)\n  );\n  return {\n    useAxios,\n    refetch,\n    useAxiosSafe,\n  };\n};\n\nconst { useAxios, refetch, useAxiosSafe } = create(axios);\n\nexport { useAxios as default, useAxios, refetch, useAxiosSafe };\n\nexport const reload = obsoleteWithReplacement(\n  refetch,\n  '`reload` function',\n  '`refetch` function'\n);\n","import { create as createAxios } from 'axios';\nimport { create as createUseAxios } from 'use-axios';\n\nconst axios = createAxios({ baseURL: 'https://api.example.com/v1' });\n\nconst { useAxios, refetch } = createUseAxios(axios);\n\nconst { delete: del, post, put } = axios;\n\nexport function useItems() {\n  return useAxios('/items').data;\n}\n\nexport async function postItem(item) {\n  await post('/items', item);\n  await refetch('/items');\n}\n\nexport async function putItem(item) {\n  await put(`/items/${item._id}`, item);\n  await refetch('/items');\n}\n\nexport async function putItems(items) {\n  await put('/items', items);\n  await refetch('/items');\n}\n\nexport async function deleteItem(item) {\n  await del(`/items/${item._id}`);\n  await refetch('/items');\n}\n\nexport async function deleteItems(items) {\n  await del('/items', { data: items.map((item) => item._id) });\n  await refetch('/items');\n}\n\n// Poll API ðŸ˜• to get updates from other users and tabs\n//setInterval(() =>  client.refetchItems(), 5000);\n","export default function obsoleteWithReplacement(\n  replacementFunction,\n  oldFn,\n  newFn\n) {\n  let warned;\n  function wrapper(...args) {\n    if (!warned) {\n      warned = true;\n      console?.warn?.(\n        `WARNING! Obsolete function called. ${oldFn} has been deprecated and will be removed in the next major release. Please use the new ${newFn} instead.`\n      );\n    }\n    return this::replacementFunction(...args);\n  }\n  wrapper.prototype = replacementFunction.prototype;\n\n  return wrapper;\n}\n","import { useItems, deleteItems } from '../api';\n\nexport default function ClearCompleted() {\n  const items = useItems();\n  const completedItems = items.filter(({ completed }) => completed);\n  const { length } = completedItems;\n\n  return length ? (\n    <button\n      className=\"clear-completed\"\n      onClick={() => deleteItems(completedItems)}\n    >\n      Clear completed ({length})\n    </button>\n  ) : null;\n}\n","import { useItems } from '../api';\n\nexport default function Counter() {\n  const items = useItems();\n  const activeItems = items.filter(({ completed }) => !completed);\n  const { length } = activeItems;\n\n  return (\n    <span className=\"todo-count\">\n      {length} {length === 1 ? 'item' : 'items'} left\n    </span>\n  );\n}\n","import { NavLink } from 'react-router-dom';\n\nexport default function Filter() {\n  return (\n    <ul className=\"filters\">\n      {[\n        { path: '', title: 'All' },\n        { path: 'active', title: 'Active' },\n        { path: 'completed', title: 'Completed' },\n      ].map(({ path, title }) => (\n        <li key={path}>\n          <NavLink activeClassName=\"selected\" exact replace to={`/${path}`}>\n            {title}\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import { useItems } from '../api';\nimport ClearCompleted from './ClearCompleted';\nimport Counter from './Counter';\nimport Filter from './Filter';\n\nexport default function Footer() {\n  const items = useItems();\n\n  return items.length ? (\n    <footer className=\"footer\">\n      <Counter />\n      <Filter />\n      <ClearCompleted />\n    </footer>\n  ) : null;\n}\n","import { useRef } from 'react';\nimport { postItem } from './api';\n\nexport default function Input() {\n  const inputRef = useRef(null);\n\n  return (\n    <input\n      ref={inputRef}\n      autoFocus\n      className=\"new-todo\"\n      onKeyDown={async ({ key }) => {\n        const input = inputRef.current;\n        if (input) {\n          const title = input.value.trim();\n          if (key === 'Enter' && title) {\n            await postItem({ title });\n            input.value = '';\n          }\n        }\n      }}\n      placeholder=\"What needs to be done?\"\n      type=\"text\"\n    />\n  );\n}\n","import clsx from 'clsx';\nimport { useEffect, useRef, useState } from 'react';\nimport { deleteItem, putItem } from '../api';\n\nexport default function Item({ item, item: { completed = false, title } }) {\n  const [focus, setFocus] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    if (focus) {\n      inputRef.current?.focus();\n      setFocus(false);\n    }\n  }, [focus, setFocus]);\n\n  function handleSave() {\n    if (isEditing) {\n      setIsEditing(false);\n      putItem({\n        ...item,\n        title: inputRef.current?.value.trim(),\n      });\n    }\n  }\n\n  return (\n    <li\n      className={clsx(completed && 'completed', isEditing && 'editing')}\n      onDoubleClick={() => {\n        setFocus(true);\n        setIsEditing(true);\n      }}\n    >\n      <div className=\"view\">\n        <input\n          className=\"toggle\"\n          checked={completed}\n          onChange={() =>\n            putItem({\n              ...item,\n              completed: !completed,\n            })\n          }\n          type=\"checkbox\"\n        />\n        <label>{title}</label>\n        <button className=\"destroy\" onClick={() => deleteItem(item)} />\n      </div>\n      <input\n        className=\"edit\"\n        ref={inputRef}\n        type=\"text\"\n        defaultValue={title}\n        onKeyDown={({ key }) => {\n          if (key === 'Enter') {\n            handleSave();\n          }\n        }}\n        onBlur={handleSave}\n      />\n    </li>\n  );\n}\n","import { useRouteMatch } from 'react-router-dom';\nimport { useItems } from '../api';\nimport Item from './Item';\n\nexport default function List() {\n  const {\n    params: { filter },\n  } = useRouteMatch('/:filter?') ?? { params: {} };\n\n  const items = useItems();\n\n  const listItems = filter\n    ? items.filter(\n        ({ completed }) => Boolean(completed) === (filter === 'completed')\n      )\n    : items;\n\n  return (\n    <ul className=\"todo-list\">\n      {listItems.map((item) => (\n        <Item key={item._id} item={item} />\n      ))}\n    </ul>\n  );\n}\n","import { useItems, putItems } from './api';\n\nexport default function ToggleAll() {\n  const items = useItems();\n\n  if (!items.length) {\n    return null;\n  }\n\n  const completed = items.every(({ completed }) => completed);\n\n  return (\n    <>\n      <input\n        data-testid=\"toggle-all\"\n        id=\"toggle-all\"\n        className=\"toggle-all\"\n        checked={completed}\n        onChange={() =>\n          putItems(items.map((item) => ({ ...item, completed: !completed })))\n        }\n        type=\"checkbox\"\n      />\n      <label htmlFor=\"toggle-all\" />\n    </>\n  );\n}\n","import { Suspense } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Container from './Container';\nimport Footer from './Footer';\nimport Input from './Input';\nimport List from './List';\nimport ToggleAll from './ToggleAll';\nimport { homepage } from '../package.json';\n\nfunction App() {\n  return (\n    <Suspense fallback=\"loading...\">\n      <Container>\n        <BrowserRouter\n          basename={process.env.NODE_ENV === 'test' ? undefined : homepage}\n        >\n          <section className=\"todoapp\">\n            <header>\n              <h1>todos</h1>\n            </header>\n            <Input />\n            <section className=\"main\">\n              <ToggleAll />\n              <List />\n              <Footer />\n            </section>\n          </section>\n        </BrowserRouter>\n      </Container>\n    </Suspense>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'todomvc-app-css/index.css';\nimport 'todomvc-common/base.css';\nimport { homepage } from '../package.json';\nimport App from './App';\n\nasync function main() {\n  if (\n    typeof window !== 'undefined' &&\n    window.document // &&\n    // process.env.NODE_ENV === 'development' &&\n    // process.env.REACT_APP_MOCK === 'msw'\n  ) {\n    if (\n      window.location.pathname === homepage &&\n      !window.location.pathname.endsWith('/')\n    ) {\n      window.location.pathname = `${window.location.pathname}/`;\n      return;\n    }\n\n    const { worker } = await import('./mocks/browser');\n    await worker.start({\n      serviceWorker: {\n        url: `${homepage}/mockServiceWorker.js`,\n      },\n    });\n  }\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n}\n\nmain();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"learn-bar\":\"styles_learn-bar__3bpGf\"};"],"sourceRoot":""}